<div class="row gap-20 masonry pos-r">
  <div class="masonry-item col-md-7">
    <div class="bgc-white p-20 bd">
      <h6 class="c-grey-900">Profile</h6>
      <div class="mT-30">
        <form [formGroup]="form" (ngSubmit)="updateUserProfile()" class="container">
          <div class="row">
            <div class="col-12 mb-3">
              <img *ngIf="user" src="{{user.photoUrl}}" alt="">
            </div>
          </div>
          <div class="row">
            <div class="form-group col-md-6 mb-3" [ngClass]="{invalid: form.get('userName').touched && form.get('userName').invalid}">
              <label class="text-normal text-dark">User Name</label>
              <input type="text" formControlName="userName" [readonly]="!isEdit" class="form-control" Placeholder='John Doe'>
              <div *ngIf="form.get('userName').touched && form.get('userName').invalid" class="validation">
                <small *ngIf="form.get('userName').errors.required">This field is required</small>
              </div>
            </div>
            <div class="form-group col-md-6 mb-3" [ngClass]="{invalid: form.get('email').touched && form.get('email').invalid}">
              <label class="text-normal text-dark">Email</label>
              <input formControlName="email" [readonly]="!isEdit" type="email" class="form-control" placeholder="JohnDoe@example.com">
              <div *ngIf="form.get('email').touched && form.get('email').invalid" class="validation">
                <small *ngIf="form.get('email').errors.required">This field is required</small>
                <small *ngIf="form.get('email').errors.email">Please enter valid email</small>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="isEdit">
            <div class="form-group col-md-4 mb-3" [ngClass]="{invalid: form.get('oldPassword').touched && form.get('oldPassword').invalid}">
              <label class="text-normal text-dark">Old Password</label>
              <input formControlName="oldPassword" type="password" class="form-control" placeholder="Old Password">
              <div *ngIf="form.get('oldPassword').touched && form.get('oldPassword').invalid" class="validation">
                <small *ngIf="form.get('oldPassword').errors.required">This field is required</small>
                <small *ngIf="form.get('oldPassword').errors.minlength">Password to short</small>
              </div>
            </div>
            <div class="form-group col-md-4 mb-3" [ngClass]="{invalid: form.get('newPassword').touched && form.get('newPassword').invalid}">
              <label class="text-normal text-dark">New Password</label>
              <input formControlName="newPassword" type="password" class="form-control" placeholder="New Password">
              <div *ngIf="form.get('newPassword').touched && form.get('newPassword').invalid" class="validation">
                <small *ngIf="form.get('newPassword').errors.required">This field is required</small>
                <small *ngIf="form.get('newPassword').errors.minlength">Password to short</small>
                <small *ngIf="form.get('newPassword').errors.mustNotMatch">You new password can't match with old one</small>
              </div>
            </div>
            <div class="form-group col-md-4 mb-3" [ngClass]="{invalid: form.get('confirmPassword').touched && form.get('confirmPassword').invalid}">
              <label class="text-normal text-dark">Confirm Password</label>
              <input formControlName="confirmPassword" type="password" class="form-control" placeholder="Confirm Password">
              <div *ngIf="form.get('confirmPassword').touched && form.get('confirmPassword').invalid" class="validation">
                <small *ngIf="form.get('confirmPassword').errors.required">This field is required</small>
                <small *ngIf="form.get('confirmPassword').errors.mustMatch">Password must match</small>
              </div>
            </div>
          </div>
          <button class="btn btn-info mr-3" (click)="isEdit = !isEdit" type="button">{{isEdit ? 'Cancel' : 'Edit'}}</button>
          <button class="btn btn-primary" [disabled]="form.invalid" type="submit" *ngIf="isEdit">Save</button>
        </form>
      </div>
    </div>
  </div>
</div>
